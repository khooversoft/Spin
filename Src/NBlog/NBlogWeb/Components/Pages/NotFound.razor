@page "/NotFound/{code}/{message?}"
@using NBlog.sdk
@using NBlogWeb.Components.Controls
@rendermode InteractiveServer

<ShowRouteError Title="@_message" />

@code {
    [Parameter] public string Code { get; init; } = null!;
    [Parameter] public string? Message { get; init; }

    private string _message { get; set; } = null!;

    [Inject] public NavigationManager _navManager { get; init; } = null!;

    private void GoHome()
    {
        _navManager.NavigateTo(NavRoutes.GotoSummary("article", "home"), true);
    }

    protected override void OnParametersSet()
    {
        _message = Code switch
        {
            "404" => "Resource not found (404)",
            _ => $"{Message} ({Code})",
        };
    }
}
